# GetDataProject README

## Description 
This project provides a summarised tidy dataset of the (reference) dataset 
obtained from https://d396qusza40orc.cloudfront.net/getdata/projectfiles/UCI%20HAR%20Dataset.zip. 
The reference dataset characterises 6 physical activities in terms of the sensor signals (accelerometer 
and gyroscope) of smartphones attached to the waist of 30 different subjects. These sensor signals have 
been pre-processed and transformed into 561-features. The summarisation consists in averaging, for each 
activity and each subject, the features that correspond to mean or standard-deviation quantities. 
For mean quantities, we only selected features that are simple means (and discarded features that are frequency 
weighted means -- identified by "meanFreq()"), which are identified by **"mean()"** in the features_info.txt 
file accompanying the reference dataset. They amount to 33 variables. For standard-deviation quantities, we selected 
variables identified by **"std()"**, which amount to 33 variables. 
For a detailed description see the **CodeBook.md** file. 

To view the tidy dataset in R do: 
```
dtb<-read.table("<path_to_file>/AvgTidyDataset.txt"); 
View(dtb);
```

## File structure of the reference dataset 
The reference dataset is assumed to be in the directory **'dataDir'** (default: "UCI HAR Dataset"), which contains the features' label 
file **'featLabFile'** (default: "features.txt") and activities' label file **'actLabFile'** (default: "activity_labels.txt"). 
The data is separated in **"test"** and **"train"** data (see the original README file or the CodeBook.md file). The test 
and train data are assumed to be in the directories "test" and "train", respectively, inside 'dataDir'. Inside each of these 
directories there should exist three files with corresponding suffixes of "test" and "train". The three files are: 

- a 1-column activities' file with prefix **'actObsLabFile'** (default: "y_"); 
- a 1-column subjects' file with prefix **'subjObsLabFile'** (default: "subject_"); 
- a 561-columns features' file with prefix **'featObsFile'** (default: "X_").

The first two files are the activity and subject labels for the different observations of the 561-features. 

## Summarised tidy dataset generation script 
The summarised tidy dataset is generated by the single script **run_analysis.R**, which has been run on R version 
3.1.2 (2014-10-31), platform x86_64-apple-darwin10.8.0. Required libraries: **"data.table"**. 

The script adds the activity and subject labels to the 561-features observations, and merges the 
"train" and "test" data into a single data.table object 'obsData'. In order to load the features' data, the 
script first parses the original features' data files so that only a single-space separates adjacent columns and 
no-space appears at the beginning of each line. The parsed files are temporarily stored in the 'dataDir' directory 
with the suffix "_tmp.txt", from which the features data is then loaded. The summarised data 
obtained from 'obsData' is then stored in the data.table object 'obsMeanData', which is finally written to the file 
**'outfile'** (default: "AvgDataset.txt") in the working directory from which the script has been called. 
The data is ordered by the first-column values and then by the second-column values, which are the dataset labels. 
By default, the first two columns are |Activity|SubjectID|. 'Activity' is ordered alphabetically and 
'SubjectID' numerically, both ascending. 

For a description of the summarised variables see the **CodeBook.md** file. 

Script's FLAGs:

- boolean **'ordBySubjID'** sets the relative order of the first two columns (the dataset labels): 
if TRUE the order is |SubjectID|Activity|, and if FALSE it is |Activity|SubjectID| (the default); 
- boolean **'rmTmpFiles'** (debugging): whether to remove the temporary features' parsed files 
(default: TRUE). 
- boolean **'forceGenTmpFiles+** (debugging): whether to force the re-generation of the 
temporary features parsed files (default: FALSE). Note: by default the temporary features' parsed 
files are not re-generated if they already exist. 

